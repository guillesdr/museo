<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Registro de Visita | Museo Histórico Guácaras</title>

  <!-- Bootstrap + FontAwesome -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Roboto&display=swap" rel="stylesheet">
  <!-- Estilos comunes -->
  <link href="theme_front/css/base.css" rel="stylesheet">
  <link href="theme_front/css/modern-components.css" rel="stylesheet">
</head>
<body>

  <!-- Incluir header -->
  <div id="header"></div>

  <!-- Título Página -->
  <section class="sala-header" style="margin-top: 90px; background: linear-gradient(135deg, rgba(74, 44, 30, 0.1) 0%, rgba(74, 44, 30, 0.05) 100%); padding: 3rem 0;">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-10 text-center">
          <div class="sala-badge mb-3">
            <span class="badge bg-primary text-white px-3 py-2">
              <i class="fas fa-clipboard-list me-2"></i>Registro
            </span>
          </div>
          <h1 class="section-title mb-3">Registro de Visita al Museo</h1>
          <p class="lead text-muted mb-0">Ayúdanos a conocer mejor a nuestros visitantes completando este breve formulario</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Formulario de Registro -->
  <section class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        
        <div class="card modern-card">
          <div class="card-body p-5">
            <form id="visitForm" novalidate>
              
              <!-- Nombre -->
              <div class="mb-4">
                <label for="nombre" class="form-label">
                  <i class="fas fa-user me-2 text-primary"></i>Nombre (opcional)
                </label>
                <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Ingrese su nombre">
              </div>

              <!-- Edad / Rango -->
              <div class="mb-4">
                <label class="form-label">
                  <i class="fas fa-birthday-cake me-2 text-primary"></i>Edad / Rango
                </label>
                <div class="row">
                  <div class="col-6 col-md-3 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="edad" id="edad1" value="<18">
                      <label class="form-check-label" for="edad1">
                        <i class="fas fa-child me-1"></i>&lt;18
                      </label>
                    </div>
                  </div>
                  <div class="col-6 col-md-3 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="edad" id="edad2" value="18-30">
                      <label class="form-check-label" for="edad2">
                        <i class="fas fa-user me-1"></i>18–30
                      </label>
                    </div>
                  </div>
                  <div class="col-6 col-md-3 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="edad" id="edad3" value="31-50">
                      <label class="form-check-label" for="edad3">
                        <i class="fas fa-user-tie me-1"></i>31–50
                      </label>
                    </div>
                  </div>
                  <div class="col-6 col-md-3 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="edad" id="edad4" value=">50">
                      <label class="form-check-label" for="edad4">
                        <i class="fas fa-user-graduate me-1"></i>&gt;50
                      </label>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Género -->
              <div class="mb-4">
                <label class="form-label">
                  <i class="fas fa-venus-mars me-2 text-primary"></i>Género
                </label>
                <div class="row">
                  <div class="col-4 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="genero" id="genero_f" value="F">
                      <label class="form-check-label" for="genero_f">
                        <i class="fas fa-female me-1"></i>F
                      </label>
                    </div>
                  </div>
                  <div class="col-4 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="genero" id="genero_m" value="M">
                      <label class="form-check-label" for="genero_m">
                        <i class="fas fa-male me-1"></i>M
                      </label>
                    </div>
                  </div>
                  <div class="col-4 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="genero" id="genero_no" value="Prefiere no decirlo">
                      <label class="form-check-label" for="genero_no">
                        <i class="fas fa-question me-1"></i>Prefiere no decirlo
                      </label>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Procedencia -->
              <div class="mb-4">
                <label for="procedencia" class="form-label">
                  <i class="fas fa-map-marker-alt me-2 text-primary"></i>Procedencia
                </label>
                <input type="text" class="form-control" id="procedencia" name="procedencia" placeholder="Ciudad, provincia o país de origen" required>
                <div class="invalid-feedback">
                  Por favor ingrese su lugar de procedencia.
                </div>
              </div>

              <!-- Motivo de la visita -->
              <div class="mb-4">
                <label class="form-label">
                  <i class="fas fa-question-circle me-2 text-primary"></i>Motivo de la visita
                </label>
                <div class="row">
                  <div class="col-6 col-md-3 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="motivo" id="motivo_turismo" value="Turismo" required>
                      <label class="form-check-label" for="motivo_turismo">
                        <i class="fas fa-camera me-1"></i>Turismo
                      </label>
                    </div>
                  </div>
                  <div class="col-6 col-md-3 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="motivo" id="motivo_escuela" value="Escuela" required>
                      <label class="form-check-label" for="motivo_escuela">
                        <i class="fas fa-graduation-cap me-1"></i>Escuela
                      </label>
                    </div>
                  </div>
                  <div class="col-6 col-md-3 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="motivo" id="motivo_evento" value="Evento" required>
                      <label class="form-check-label" for="motivo_evento">
                        <i class="fas fa-calendar-alt me-1"></i>Evento
                      </label>
                    </div>
                  </div>
                  <div class="col-6 col-md-3 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="motivo" id="motivo_otro" value="Otro" required>
                      <label class="form-check-label" for="motivo_otro">
                        <i class="fas fa-ellipsis-h me-1"></i>Otro
                      </label>
                    </div>
                  </div>
                </div>
                <div class="invalid-feedback">
                  Por favor seleccione el motivo de su visita.
                </div>
              </div>

              <!-- Tipo de visita -->
              <div class="mb-4">
                <label class="form-label">
                  <i class="fas fa-users me-2 text-primary"></i>Tipo de visita
                </label>
                <div class="row">
                  <div class="col-4 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="tipo_visita" id="tipo_individual" value="Individual" required>
                      <label class="form-check-label" for="tipo_individual">
                        <i class="fas fa-user me-1"></i>Individual
                      </label>
                    </div>
                  </div>
                  <div class="col-4 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="tipo_visita" id="tipo_familiar" value="Familiar" required>
                      <label class="form-check-label" for="tipo_familiar">
                        <i class="fas fa-home me-1"></i>Familiar
                      </label>
                    </div>
                  </div>
                  <div class="col-4 mb-2">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="tipo_visita" id="tipo_grupo" value="Grupo" required>
                      <label class="form-check-label" for="tipo_grupo">
                        <i class="fas fa-users me-1"></i>Grupo
                      </label>
                    </div>
                  </div>
                </div>
                <div class="invalid-feedback">
                  Por favor seleccione el tipo de visita.
                </div>
              </div>

              <!-- Medio por el que se enteró -->
              <div class="mb-4">
                <label for="medio_entero" class="form-label">
                  <i class="fas fa-bullhorn me-2 text-primary"></i>Medio por el que se enteró del museo
                </label>
                <input type="text" class="form-control" id="medio_entero" name="medio_entero" placeholder="Ej: Facebook, recomendación, diario, etc." required>
                <div class="invalid-feedback">
                  Por favor indique cómo se enteró del museo.
                </div>
              </div>

              <!-- Correo electrónico -->
              <div class="mb-4">
                <label for="correo" class="form-label">
                  <i class="fas fa-envelope me-2 text-primary"></i>Correo electrónico (opcional)
                </label>
                <input type="email" class="form-control" id="correo" name="correo" placeholder="ejemplo@correo.com">
                <div class="invalid-feedback">
                  Por favor ingrese un correo electrónico válido.
                </div>
              </div>

              <!-- Comentarios -->
              <div class="mb-4">
                <label for="comentarios" class="form-label">
                  <i class="fas fa-comment me-2 text-primary"></i>Comentarios
                </label>
                <textarea class="form-control" id="comentarios" name="comentarios" rows="4" placeholder="Comparta sus impresiones, sugerencias o cualquier comentario sobre su visita..."></textarea>
              </div>

              <!-- Nota de privacidad -->
              <div class="alert alert-info mb-4">
                <div class="d-flex align-items-start">
                  <i class="fas fa-info-circle me-3 mt-1"></i>
                  <div>
                    <strong>Uso de datos:</strong> Los datos serán usados solo con fines estadísticos y para mejorar la experiencia de los visitantes. 
                    Su información se mantendrá confidencial y no será compartida con terceros.
                  </div>
                </div>
              </div>

              <!-- Botones -->
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="button" class="btn btn-outline-secondary me-md-2" onclick="limpiarFormulario()">
                  <i class="fas fa-eraser me-2"></i>Limpiar
                </button>
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-paper-plane me-2"></i>Registrar Visita
                </button>
              </div>

            </form>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Modal de confirmación -->
  <div class="modal fade" id="confirmacionModal" tabindex="-1" aria-labelledby="confirmacionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-success text-white">
          <h5 class="modal-title" id="confirmacionModalLabel">
            <i class="fas fa-check-circle me-2"></i>¡Registro Exitoso!
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body text-center">
          <i class="fas fa-heart text-danger fs-1 mb-3"></i>
          <h4>¡Gracias por visitarnos!</h4>
          <p>Su registro ha sido completado exitosamente. Esperamos que disfrute de su visita al Museo Histórico Guácaras.</p>
          <p class="text-muted small">Su información nos ayudará a mejorar la experiencia para futuros visitantes.</p>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-success" data-bs-dismiss="modal">
            <i class="fas fa-home me-2"></i>Comenzar Visita
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Incluir footer -->
  <div id="footer"></div>

  <!-- Floating Action Button -->
  <a href="index.html" class="fab tooltip-modern" data-tooltip="Volver al inicio">
    <i class="fas fa-home"></i>
  </a>

  <!-- Scroll to Top Button -->
  <a href="#" class="scroll-to-top" id="scrollToTop">
    <i class="fas fa-chevron-up"></i>
  </a>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Cargar header y footer automáticamente
    fetch("templates/header.html")
      .then(res => res.text())
      .then(html => document.getElementById("header").innerHTML = html);

    fetch("templates/footer.html")
      .then(res => res.text())
      .then(html => document.getElementById("footer").innerHTML = html);

    // Validación y manejo del formulario
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('visitForm');
      const confirmacionModal = new bootstrap.Modal(document.getElementById('confirmacionModal'));

      // Validación en tiempo real
      form.addEventListener('submit', function(event) {
        event.preventDefault();
        event.stopPropagation();

        if (form.checkValidity()) {
          // Simular envío del formulario
          procesarFormulario();
        } else {
          // Mostrar errores de validación
          form.classList.add('was-validated');
        }
      });

      // Función para procesar el formulario
      function procesarFormulario() {
        // Aquí se procesarían los datos del formulario
        // Por ahora solo mostramos el modal de confirmación
        
        // Obtener datos del formulario
        const formData = new FormData(form);
        const datos = {};
        
        for (let [key, value] of formData.entries()) {
          datos[key] = value;
        }

        // En una implementación real, aquí se enviarían los datos al servidor
        console.log('Datos del registro:', datos);
        
        // Mostrar modal de confirmación
        confirmacionModal.show();
        
        // Limpiar formulario después del envío exitoso
        setTimeout(() => {
          limpiarFormulario();
        }, 1000);
      }

      // Scroll to top functionality
      const scrollToTopBtn = document.getElementById('scrollToTop');
      
      window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
          scrollToTopBtn.classList.add('visible');
        } else {
          scrollToTopBtn.classList.remove('visible');
        }
      });
      
      scrollToTopBtn.addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    });

    // Función para limpiar el formulario
    function limpiarFormulario() {
      const form = document.getElementById('visitForm');
      form.reset();
      form.classList.remove('was-validated');
    }
  </script>
</body>
</html>