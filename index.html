<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Museo Histórico Guácaras</title>

  <!-- Bootstrap + FontAwesome -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Roboto&display=swap" rel="stylesheet">
  <!-- Estilos comunes -->
  <link href="theme_front/css/base.css" rel="stylesheet">
  <link href="theme_front/css/modern-components.css" rel="stylesheet">
</head>
<body>

  <!-- Incluir header -->
  <div id="header"></div>

  <!-- Hero -->
  <section class="hero d-flex align-items-center justify-content-center text-center position-relative" 
           style="background: linear-gradient(135deg, #4a2c1e 0%, #2d1a11 100%); color: white; height: 85vh; overflow: hidden;" 
           data-bg="theme_front/img/fondo_sala_exterior.png">
    <div class="hero-overlay"></div>
    <div class="hero-content position-relative z-index-2">
      <div class="hero-badge mb-3">
        <span class="badge bg-gradient text-dark px-3 py-2">Patrimonio Cultural</span>
      </div>
      <h1 class="display-3 fw-bold mb-4 hero-title">Museo Histórico<br><span class="text-accent">Guácaras</span></h1>
      <p class="lead mb-4 hero-subtitle">Descubre la rica historia de Santa Ana de los Guácaras<br>a través de testimonios únicos y experiencias inmersivas</p>
      <div class="hero-buttons">
        <a href="#salas" class="btn btn-hero-primary me-3">
          <i class="fas fa-play me-2"></i>Explorar Salas
        </a>
        <a href="#contacto" class="btn btn-hero-secondary">
          <i class="fas fa-info-circle me-2"></i>Más Información
        </a>
      </div>
    </div>
    <div class="hero-scroll-indicator">
      <div class="scroll-arrow"></div>
    </div>
    <div class="hero-loading-indicator"></div>
    <div class="hero-loading-text">Cargando imagen...</div>
  </section>

  <!-- Galería de Salas -->
  <section id="salas" class="container my-5">
    <h2 class="section-title">Galería de Salas</h2>
    <div class="row g-4">
      
      <!-- Sala 1 -->
      <div class="col-md-6 col-lg-3">
        <div class="card h-100">
          <img src="theme_front/img/sala_1.png" class="card-img-top" alt="Sala 1 Orígenes">
          <div class="card-body text-center">
            <h5 class="card-title">Sala 1</h5>
            <p class="card-text">Orígenes</p>
            <a href="sala1.html" class="btn btn-outline-dark btn-sm">Ver más</a>
          </div>
        </div>
      </div>

      <!-- Sala 2 -->
      <div class="col-md-6 col-lg-3">
        <div class="card h-100">
          <img src="theme_front/img/sala_2.png" class="card-img-top" alt="Sala 2 Santa Ana">
          <div class="card-body text-center">
            <h5 class="card-title">Sala 2</h5>
            <p class="card-text">Santa Ana</p>
            <a href="sala2.html" class="btn btn-outline-dark btn-sm">Ver más</a>
          </div>
        </div>
      </div>

      <!-- Sala 3 -->
      <div class="col-md-6 col-lg-3">
        <div class="card h-100">
          <img src="theme_front/img/sala_3.png" class="card-img-top" alt="Sala 3 Ingenio">
          <div class="card-body text-center">
            <h5 class="card-title">Sala 3</h5>
            <p class="card-text">Ingenio</p>
            <a href="sala3.html" class="btn btn-outline-dark btn-sm">Ver más</a>
          </div>
        </div>
      </div>

      <!-- Sala 4 -->
      <div class="col-md-6 col-lg-3">
        <div class="card h-100">
          <img src="theme_front/img/sala_4.png" class="card-img-top" alt="Sala 4 Trencito Económico">
          <div class="card-body text-center">
            <h5 class="card-title">Sala 4</h5>
            <p class="card-text">Trencito Económico</p>
            <a href="sala4.html" class="btn btn-outline-dark btn-sm">Ver más</a>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- Incluir footer -->
  <div id="footer"></div>

  <!-- Floating Action Button -->
  <a href="#salas" class="fab tooltip-modern" data-tooltip="Ir a Salas">
    <i class="fas fa-compass"></i>
  </a>

  <!-- Scroll to Top Button -->
  <a href="#" class="scroll-to-top" id="scrollToTop">
    <i class="fas fa-chevron-up"></i>
  </a>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Cargar header y footer automáticamente
    fetch("templates/header.html")
      .then(res => res.text())
      .then(html => document.getElementById("header").innerHTML = html);

    fetch("templates/footer.html")
      .then(res => res.text())
      .then(html => document.getElementById("footer").innerHTML = html);

    // Modern interactions
    document.addEventListener('DOMContentLoaded', function() {
      // Scroll to top functionality
      const scrollToTopBtn = document.getElementById('scrollToTop');
      
      window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
          scrollToTopBtn.classList.add('visible');
        } else {
          scrollToTopBtn.classList.remove('visible');
        }
      });
      
      scrollToTopBtn.addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });

      // Add loading animation to images
      const images = document.querySelectorAll('img');
      images.forEach(img => {
        img.addEventListener('load', function() {
          this.style.opacity = '1';
        });
      });

      // Lazy load hero background image with optimization
      const hero = document.querySelector('.hero');
      const bgImage = hero.getAttribute('data-bg');
      
      if (bgImage) {
        // Add loading class initially
        hero.classList.add('loading');
        
        // Function to load background image
        function loadHeroBackground(imageSrc) {
          const img = new Image();
          
          img.onload = function() {
            // Image loaded, apply background with fade effect
            hero.style.backgroundImage = `url('${imageSrc}')`;
            hero.classList.remove('loading');
            hero.classList.add('loaded');
          };
          
          img.onerror = function() {
            // If image fails to load, try fallback or just remove loading
            hero.classList.remove('loading');
            console.warn('Hero background image failed to load:', imageSrc);
          };
          
          img.src = imageSrc;
        }
        
        // Check if WebP is supported for better compression
        function supportsWebP() {
          return new Promise((resolve) => {
            const webP = new Image();
            webP.onload = webP.onerror = () => resolve(webP.height === 2);
            webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';
          });
        }
        
        // Start loading after a delay to prioritize critical content
        setTimeout(async () => {
          // For now, just load the original PNG
          // In the future, you could add WebP conversion
          loadHeroBackground(bgImage);
        }, 300);
      }
    });
  </script>
</body>
</html>
